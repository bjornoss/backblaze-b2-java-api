<!DOCTYPE html>
<html lang="en">
<head>
    <!-- DO NOT EDIT THIS FILE.  It is generated.  See README. -->
    <meta charset="utf-8" />
    <!-- meta name="viewport" content="width=device-width, initial-scale=1" -->
    <title>Files</title> 
    <!-- font -->
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,700' rel='stylesheet' type='text/css' />
    <!-- jquery -->
    <script language="JavaScript" src="../../scripts/jquery-1.11.3.min.js" type="text/javascript"></script>
    <script language="JavaScript" src="../../scripts/jquery.cookie.js" type="text/javascript"></script>
    <!-- bootstrap -->
    <link href="../css/bootstrap.css" rel="stylesheet" type="text/css"/>
    <script language="JavaScript" src="../js/bootstrap.min.js" type="text/javascript"></script>
    <!-- backblaze -->
    <link href="../css/b2_nav.css" rel="stylesheet" type="text/css"/>    
    <link href="../css/b2_footer.css" rel="stylesheet" type="text/css"/>
    <link href="../css/b2_main.css" rel="stylesheet" type="text/css"/> 
    <link href="../css/b2-cloud-storage-docs.css" rel="stylesheet" type="text/css"/>
    <script language="JavaScript" src="../js/b2-cloud-storage-docs.js" type="text/javascript"></script>
    <script language="JavaScript" src="../js/nav.js" type="text/javascript"></script>
    <script language="JavaScript" src="../../scripts/main.js" type="text/javascript"></script>
    <!- highlight.js -->
    <link id="highLightLink" href="../css/highlight/xcode.css" rel="stylesheet" type="text/css"/>
    <script language="JavaScript" type="text/javascript" src="../js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
</head>
<body>
    
<div class="header clearfix">
    <nav class="navbar navbar-default navbar-fixed-top" style="background-color:#fff;">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header b2_docs_nav_bar_hdr">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                        data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                    <span class="sr-only">Toggle navigation</span>
                    <div id="nav-icon3">
                        <span></span>
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </button>
                <a class="navbar-brand" href="/index.html">
                    <img src="https://www.backblaze.com/pics/backblaze-logo.gif"
                         width="180" height="31" alt="Backblaze" style="float:left;"></a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                    <li><a href="../../cloud-backup.html">Personal Backup</a></li>
                    <li><a href="../../business.html">Business Backup</a></li>
                    <li class="active"><a href="../index.html">B2 Cloud Storage</a></li>
                    <li><a href="../../blog/">Blog</a></li>
                    <li><a href="../../help.html">Help</a></li>
                    <li><a href="../../user_signin.htm">Sign In</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="b2-docs-subnav-bar">
        <div id="bzSubNav">
            <div class="sub-wrapper container">
            <a id="sub-nav-toggle"><img class="nav-caret" src="../../pics/nav-caret-down.png"></a>
            <ul id="sub-nav-items">
                <li><a href="../cloud-storage.html" id="howItWorks"><span>How B2 Works</span></a>
                </li>
                <li><a href="../cloud-storage-providers.html" id="comparison"><span>Comparison</span></a></li>
                <li><a href="../why-b2.html" id="whyB2"><span>Why B2</span></a></li>
                <li><a href="../b2-use-cases.html" id="bzUseCases"><span>Use Cases</span></a></li>
                <li><a href="index.html" id="bzDoc" class="sub-nav-current"><span>Documentation</span></a></li>
            </ul>
            <div class="nav-button-wrapper">
                <a href="../cloud-storage-pricing.html" class="btn btn-default" role="button">Pricing</a>
                <a href="../get-invite.html" class="btn btn-primary" role="button">Get Invite</a>
            </div>
        </div>


</div>
    </div>

    <table class="doc_container">
        <tbody>
        <tr>
            <td class="left_column">
                <div class="left_nav">
                    <p class="left_nav_header">B2 Storage</p>
                    <p class="left_nav_item" id="index"><a href="index.html">Overview</a></p>
                    <p class="left_nav_item" id="buckets"><a href="buckets.html">Buckets</a></p>
                    <p class="left_nav_item" id="files"><a href="files.html">Files</a></p>
                    <p class="left_nav_item" id="file_versions"><a href="file_versions.html">File Versions</a></p>
                    <p class="left_nav_item" id="calling"><a href="calling.html">Calling the API</a></p>
                    <p class="left_nav_item" id="string_encoding"><a href="string_encoding.html">String Encoding</a></p>
                    <p>&nbsp;</p>
                    <p class="left_nav_header">Quick Start</p>
                    <p class="left_nav_item" id="quick_account"><a href="quick_account.html">Get An Account</a></p>
                    <p class="left_nav_item" id="quick_command_line"><a href="quick_command_line.html">Command-Line Tool</a></p>
                    <p class="left_nav_item" id="quick_bucket"><a href="quick_bucket.html">Make a Bucket</a></p>
                    <p class="left_nav_item" id="quick_upload"><a href="quick_upload.html">Upload a File</a></p>
                    <p>&nbsp;</p>
                    <p class="left_nav_header">API Operations</p>
                    <p class="left_nav_item" id="b2_authorize_account"><a href="b2_authorize_account.html">b2_authorize_account</a></p>
                    <p class="left_nav_item" id="b2_create_bucket"><a href="b2_create_bucket.html">b2_create_bucket</a></p>
                    <p class="left_nav_item" id="b2_delete_bucket"><a href="b2_delete_bucket.html">b2_delete_bucket</a></p>
                    <p class="left_nav_item" id="b2_delete_file_version"><a href="b2_delete_file_version.html">b2_delete_file_version</a></p>
                    <p class="left_nav_item" id="b2_download_file_by_id"><a href="b2_download_file_by_id.html">b2_download_file_by_id</a></p>
                    <p class="left_nav_item" id="b2_download_file_by_name"><a href="b2_download_file_by_name.html">b2_download_file_by_name</a></p>
                    <p class="left_nav_item" id="b2_get_file_info"><a href="b2_get_file_info.html">b2_get_file_info</a></p>
                    <p class="left_nav_item" id="b2_get_upload_url"><a href="b2_get_upload_url.html">b2_get_upload_url</a></p>
                    <p class="left_nav_item" id="b2_hide_file"><a href="b2_hide_file.html">b2_hide_file</a></p>
                    <p class="left_nav_item" id="b2_list_buckets"><a href="b2_list_buckets.html">b2_list_buckets</a></p>
                    <p class="left_nav_item" id="b2_list_file_names"><a href="b2_list_file_names.html">b2_list_file_names</a></p>
                    <p class="left_nav_item" id="b2_list_file_versions"><a href="b2_list_file_versions.html">b2_list_file_versions</a></p>
                    <p class="left_nav_item" id="b2_update_bucket"><a href="b2_update_bucket.html">b2_update_bucket</a></p>
                    <p class="left_nav_item" id="b2_upload_file"><a href="b2_upload_file.html">b2_upload_file</a></p>
                    <p>&nbsp;</p>
                    <p class="left_nav_header">Source Code Bundles</p>
                    <p class="left_nav_item" id="b2-python-pusher"><a href="b2-python-pusher.html">B2 Python Pusher</a></p>
                    <p class="left_nav_item" id="playground"><a href="playground.html">Swift Playground</a></p>
                </div>
            </td>
            <td class="middle_column">

    
<h1>Files</h1>

<p class="doc_intro">
    A file contains a sequence of bytes.  Any file on your computer can
    be uploaded to B2 and stored in a Cloud Storage, as long as it's not
    too big.  Files can range in size from 0 bytes to 5 billion bytes.
</p>

<p>
    Once a file is uploaded, you can
    download it right away, or wait years and then download it.  You can
    download it once, or give the URL to all of your friends and they can
    all download it.
</p>

<p>
    Uploading the same file name more than once results in multiple versions
    of the same file.  This can be useful for tracking the history of
    a document.  See
    <a href="file_versions.html">File Versions</a> for more details.
</p>

<p>
    The API calls related to files are:
</p>

<ul>
    <li><a href="b2_delete_file_version.html"><code>b2_delete_file_version</code></a> - deletes one version of one file</li>
    <li><a href="b2_download_file_by_id.html"><code>b2_download_file_by_id</code></a> - downloads a specific version of a file</li>
    <li><a href="b2_download_file_by_name.html"><code>b2_download_file_by_name</code></a> - downloads the most recent version of a file</li>
    <li><a href="b2_get_file_info.html"><code>b2_get_file_info</code></a> - returns information about a file</li>
    <li><a href="b2_hide_file.html"><code>b2_hide_file</code></a> - hides a file, without deleting its data</li>
    <li><a href="b2_list_file_names.html"><code>b2_list_file_names</code></a> - lists the file names in a bucket</li>
    <li><a href="b2_list_file_versions.html"><code>b2_list_file_versions</code></a> - lists all of the file versions in a bucket</li>
    <li><a href="b2_upload_file.html"><code>b2_upload_file</code></a> - uploads a new file (or version of a file)</li>
</ul>

<h2>File Names</h2>

<p>
    Files have names, which are set when a file is uploaded.
    Once a file is uploaded, its name cannot be changed.  You can then
    download a file if you know its name.
</p>

<p>
    Names can be pretty much any UTF-8 string up to 1000 bytes long.  There
    are a few picky rules:
</p>

<ul>
    <li>No character codes below 32 are allowed.</li>
    <li>Backslashes are not allowed.</li>
    <li>DEL characters (127) are not allowed.</li>
    <li>File names cannot start with "/", end with "/", or contain "//".</li>
</ul>

<p>
    These are all valid file names:
</p>

<ul>
    <li><code>Kitten Videos</code></li>
    <li><code>users/beatrice/kitten.jpg</code></li>
    <li><code>自由.txt</code></li>
</ul>

<p>
    To help ensure that B2 files can be easily exported to disk file systems,
    there is a maximum of 250 bytes of UTF-8 in each segment of a file name.  A
    segment is the part between slashes.  So while file names can be up to
    1000 bytes long, a file name that long must have at least four slashes in it,
    with each of the parts between the slashes being 250 bytes or less.
</p>

<h2>File IDs</h2>

<p>
    In addition to a name, each file uploaded has a unique ID that identifies
    that specific version of that file.  If you want to download an older
    version of a file, you'll need to know its File ID. File IDs look like this:
</p>

<pre class="code">4_zb330e285948b7a6d4b1b0712_f000000000000472a_d20140104_m032022_c001_v0000123_t0104</pre>

<h2>Listing Files</h2>

<p>
    You can call <a href="b2_list_file_names.html"><code>b2_list_file_names</code></a>
    to get a list of the files in a bucket, and
    <a href="b2_list_file_versions.html">b2_list_file_versions</a> to list
    all of the versions of files in a bucket.
    See <a href="file_versions.html">File Versions</a>
    for more details.
</p>

<h2>Downloading Files</h2>

<p>
    If you have uploaded a file called <code>cats/kitten.jpg</code> to a
    bucket called <code>cute_pictures</code>, you'll be able to view
    the file in a browser with a URL that looks like this:
</p>

<pre class="code">https://f001.backblaze.com/file/cute_pictures/cats/kitten.jpg</pre>

<p>
    The first part of the URL comes is the download URL that you get from
    the <a href="b2_authorize_account.html"><code>b2_authorize_account</code></a>
    call.  Then comes <code>/file/</code>, then the bucket name, another <code>/</code>,
    and then the file name.
</p>

<h2>Folders (There Are No Folders)</h2>

<p>
    A bucket holds files.  There is no hierarchy of folders, just one
    long, flat list of file names.  For example, a bucket might have
    four files in it, with these four names:
</p>

<pre class="code">cats/cat.jpg
cats/kitten.jpg
dogs/dog.jpg
dogs/puppy.jpg
</pre>

<p>
    There are no folders.  The name of the first file is <code>cats/cat.jpg</code>,
    and the name of the second file is <code>cats/kitten.jpg</code>.  There
    is nothing called just <code>cats</code>.
</p>

<p>
    Even though there are no folders, many of the tools that work with files
    in a bucket act like there are folders.  The file browser on the Backblaze
    web site acts like there are folders, and so does the <code>b2</code>
    command-line tool.  Under the covers, they both just
    scan through the flat list of files and pretend.  Here's an example of using
    the command-line tool:
</p>


<pre class="code">$ b2 ls my_bucket
cats/
dogs/
$ b2 ls my_bucket cats
cat.jpg
kitten.jpg
</pre>

<p>
    We recommend that you use "/" to separate folder names, just
    like you would for files on your computer.  (Or just like you would
    use "\" if you use Windows.)  That way the tools can figure out
    the implied folder structure.
</p>

<h2>Checksums</h2>

<p>
    To ensure the integrity of your data, when you upload a file you must
    provide a SHA1 checksum of the data.  This ensures that if any of the
    data is corrupted in the network on its way to B2, it will be detected
    before the file is stored.  When you download a file, the SHA1 checksum
    is attached so that you can verify that the data you receive is intact.
</p>

<h2>MIME Types</h2>

<p>
    When you upload a file, you also provide a MIME type for the file, which
    will be used when a browser downloads the file so that it knows what
    kind of file it is.  For example, if you say that your file <code>kitten.jpg</code>
    has a MIME type of <code>image/jpeg</code>, then a browser that downloads
    the file will know that it's an image to be displayed.
</p>

<h2>File Info</h2>

<p>
    Each file has information associated with it, in addition to the sequence
    of bytes that the file contains.  Every file has a size (the number of
    bytes in the file), a MIME type, and a SHA1 checksum.  You can also
    add your own custom information.
</p>

<p>
    Your custom file information can be up to 10 key/value pairs.  Each key
    is a UTF-8 string up to 50 bytes long, and each value is a UTF-8 string
    up to 200 bytes long.
</p>

<p>
    You provide the File Info with the <a href="b2_upload_file.html"><code>b2_upload_file</code></a>
    call.  It is set when the file is uploaded and cannot be changed.  The
    <a href="b2_get_file_info.html"><code>b2_get_file_info</code></a> call returns the
    information about a file.  The information is also returned in the HTTP
    headers when you download a file.
</p>

<h2>HTTP Header Size Limit</h2>

<p>
    The file name and file info must fit, along with the other necessary headers,
    within an 8KB limit imposed by some web servers and proxies.  To ensure this,
    both now and in the future, B2 limits the combined header size for the file
    name and all file info to 7000 bytes.  This limit applies to the fully
    encoded HTTP header line, including the carriage-return and newline.  This
    header line is counted as 40 bytes:
</p>

<pre class="code">
    X-Bz-File-Name: %E8%87%AA%E7%94%B1.txt\r\n
</pre>


    

          </td>
          <td class="right_column">
            <!-- filler so prior column don't float -->
          </td>
        </tr>
      </tbody>
    </table>
</div>
<hr/>
<section class="container footer">
    <div class="row">
        <div class="col-sm-3">
            <a href="../../online-backup-about.html">About Us</a> | <a href="../../partners.html">Partners</a>
        </div>

        <div class="col-sm-9">
            Resources: <a href="../../edrive.html">External Drives</a> | <a href="../../hard-drive.html">Hard Drive Stats</a> | <a
                href="../../data-backup/backup-your-computer.html">Backup Guide</a><br>
        </div>
    </div>

    <div class="row">
        <div class="col-sm-6">
            Backblaze &copy;. <a href="../../privacy.html" style="color:#999999; text-decoration:underline;">Terms &amp;
            Privacy </a>
        </div>
    </div>

</section>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-2694151-1', 'auto');
  ga('send', 'pageview');

</script>
</html>
